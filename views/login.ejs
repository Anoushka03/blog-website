<%- include('partials/headerLogin') %>
<form action="/users/login" method="POST" onsubmit="return fun();">
  <div class="login-box">
    <h1>Login</h1>
    <div class="textbox">
      <i class="fas fa-user"></i>
      <input type="text" placeholder="Email" name="email" id="email"><br><br>
      <p><%=email_error%></p><br><br>
    </div>

    <div class="textbox">
      <i class="fas fa-lock"></i>
      <input type="password" placeholder="Enter Password" name="psw" id="psw"><br><br>
      <p><%=password_error%></p>
      <br>
    </div>
    <button type="submit" class="btn">Login</button>
  </div>
</form>

<script>
  function fun(){
    var email = document.getElementById('email').value;
			var psw = document.getElementById('psw').value;
      var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    if (email.match(mailformat))
    {} 
    else 
    {
        alert("Please enter a valid email!");
        return false;
    }
    // To check a password between 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character
  var passw = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
  if(psw.match(passw)) 
  { }
  else
  { 
    alert('Password must be between 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character');
    document.getElementById('psw').value="";
    return false;
  }
    return true;
  }
</script>
<%- include('partials/footer') %>